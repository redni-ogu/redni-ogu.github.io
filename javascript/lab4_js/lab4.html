<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Тестирование класса Book</title>
</head>
<body>
    <h1>Откройте консоль</h1>
  <script src="lab4.js"></script>
  <script>
      const book1 = new Book('JavaScript', 2020, 500);
      try {
        book1.title = newTitle;
        book1.pubYear = newPubYear;
        book1.price = newPrice;
        document.getElementById('bookModificationOutput').textContent = `Название: ${book1.title}, Год: ${book1.pubYear}, Цена: ${book1.price}`;
      } catch (e) {
        document.getElementById('bookModificationOutput').textContent = e.message;
      }
      console.log("---------")

    function sortBooks() {
      const books = [
        new Book('Книга 1', 2019, 300),
        new Book('Книга 2', 2018, 400),
        new Book('Книга 3', 2021, 350)
      ];

      books.sort(Book.compare);
      document.getElementById('bookSortingOutput').textContent = JSON.stringify(books, null, 2);
    }
    console.log("---------")

    function checkEmpty() {
      const result1 = isEmpty({});
      const result2 = isEmpty({ [Symbol()]: true });
      document.getElementById('emptyCheckOutput').textContent = `Пустой объект: ${result1}\nОбъект с символом: ${result2}`;
    }
    console.log("---------")

    function manageClasses() {
      const addClassInput = document.getElementById('addClass');
      const removeClassInput = document.getElementById('removeClass');
      
      if (!addClassInput.checkValidity() || !removeClassInput.checkValidity()) {
        alert("Пожалуйста, заполните все обязательные поля!");
        return;
      }

      const addClass = addClassInput.value;
      const removeClass = removeClassInput.value;

      obj.addClass(addClass).removeClass(removeClass);
      document.getElementById('classManagementOutput').textContent = obj.className;
    }
    console.log("---------")

    function convertToJson() {
      const jsonString = JSON.stringify(obj, null, 2);
      document.getElementById('jsonConversionOutput').textContent = jsonString;

      const obj2 = JSON.parse(jsonString);
      console.log(JSON.stringify(obj) === JSON.stringify(obj2)); // true
    }
    console.log("---------")

    function getTimeAndDate() {
      const secondsToday = getSecondsToday();
      const formattedDate = formatDate(new Date());
      document.getElementById('timeAndDateOutput').textContent = `Секунды с начала дня: ${secondsToday}\nТекущая дата: ${formattedDate}`;
    }
  </script>
</body>
</html>